<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/_layout}">
<head>
  <title>Th√™m Nh√¢n Vi√™n</title>

  <!-- Page-specific styles -->
  <th:block layout:fragment="styles">
    <style>
      .page-container {
          max-width: 900px;
          margin: 0 auto;
          background: white;
          padding: 40px;
          border-radius: 20px;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .page-header {
          color: #667eea;
          text-align: center;
          margin-bottom: 30px;
          font-size: 2.5em;
          font-weight: 700;
      }

      .form-group {
          margin-bottom: 25px;
      }

      label {
          display: block;
          margin-bottom: 8px;
          color: #333;
          font-weight: 600;
          font-size: 1.05em;
      }

      label.required::after {
          content: " *";
          color: #e74c3c;
      }

      input[type="text"],
      input[type="number"],
      select {
          width: 100%;
          padding: 12px 15px;
          border: 2px solid #e0e0e0;
          border-radius: 10px;
          font-size: 16px;
          transition: all 0.3s;
      }

      input:focus,
      select:focus {
          outline: none;
          border-color: #667eea;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .radio-group {
          display: flex;
          gap: 30px;
          padding: 10px 0;
      }

      .radio-item {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
      }

      .radio-item input[type="radio"] {
          width: 20px;
          height: 20px;
          cursor: pointer;
      }

      .radio-item label {
          margin: 0;
          cursor: pointer;
          font-weight: 500;
      }

      .checkbox-group {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 15px;
          padding: 10px 0;
      }

      .checkbox-item {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
      }

      .checkbox-item input[type="checkbox"] {
          width: 20px;
          height: 20px;
          cursor: pointer;
      }

      .checkbox-item label {
          margin: 0;
          cursor: pointer;
          font-weight: 500;
      }

      select {
          cursor: pointer;
          background: white;
      }

      .button-group {
          display: flex;
          gap: 15px;
          margin-top: 30px;
      }

      button,
      .btn {
          flex: 1;
          padding: 15px;
          border: none;
          border-radius: 10px;
          font-size: 18px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          text-decoration: none;
          display: inline-block;
          text-align: center;
      }

      button[type="submit"] {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
      }

      button[type="submit"]:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
      }

      .btn-secondary {
          background: #6c757d;
          color: white;
      }

      .btn-secondary:hover {
          background: #5a6268;
          transform: translateY(-2px);
      }

      .helper-text {
          font-size: 0.9em;
          color: #666;
          margin-top: 5px;
      }
    </style>
  </th:block>
</head>
<body>
  <!-- Main content fragment -->
  <div layout:fragment="content">
    <div class="page-container">
      <h1 class="page-header">‚ûï Th√™m Nh√¢n Vi√™n M·ªõi</h1>

      <!--
          Form s·ª≠ d·ª•ng Thymeleaf:
          - th:action: URL x·ª≠ l√Ω form
          - th:object: Bind object Employee v√†o form
          - method: POST
      -->
      <form th:action="@{/employees/add}" th:object="${employee}" method="post">

        <!-- H·ªç t√™n -->
        <div class="form-group">
          <label for="name" class="required">üë§ H·ªç v√† t√™n:</label>
          <input
                  type="text"
                  id="name"
                  th:field="*{name}"
                  placeholder="Nh·∫≠p h·ªç v√† t√™n ƒë·∫ßy ƒë·ªß"
                  required
          >
          <div class="helper-text">V√≠ d·ª•: Nguy·ªÖn VƒÉn A</div>
        </div>

        <!-- L∆∞∆°ng -->
        <div class="form-group">
          <label for="salary" class="required">üí∞ L∆∞∆°ng (VNƒê):</label>
          <input
                  type="number"
                  id="salary"
                  th:field="*{salary}"
                  placeholder="Nh·∫≠p m·ª©c l∆∞∆°ng"
                  min="0"
                  step="100000"
                  required
          >
          <div class="helper-text">V√≠ d·ª•: 15000000 (15 tri·ªáu VNƒê)</div>
        </div>

        <!-- Gi·ªõi t√≠nh - Radio buttons -->
        <div class="form-group">
          <label class="required">‚öß Gi·ªõi t√≠nh:</label>
          <div class="radio-group">
            <div class="radio-item">
              <input
                      type="radio"
                      id="male"
                      th:field="*{gender}"
                      value="male"
                      required
              >
              <label for="male">Nam</label>
            </div>
            <div class="radio-item">
              <input
                      type="radio"
                      id="female"
                      th:field="*{gender}"
                      value="female"
                      required
              >
              <label for="female">N·ªØ</label>
            </div>
          </div>
        </div>

        <!-- Ph√≤ng ban - Select box v·ªõi th:each -->
        <div class="form-group">
          <label for="department" class="required">üè¢ Ph√≤ng ban:</label>
          <select
                  id="department"
                  th:field="*{department}"
                  required
          >
            <option value="">-- Ch·ªçn ph√≤ng ban --</option>
            <!--
                S·ª≠ d·ª•ng th:each ƒë·ªÉ loop qua Map departments
                entry.key = value (IT, HR, SALES)
                entry.value = label hi·ªÉn th·ªã
            -->
            <option
                    th:each="entry : ${departments}"
                    th:value="${entry.key}"
                    th:text="${entry.value}">
            </option>
          </select>
        </div>

        <!-- K·ªπ nƒÉng - Checkboxes v·ªõi th:each -->
        <div class="form-group">
          <label class="required">üíª K·ªπ nƒÉng:</label>
          <div class="checkbox-group">
            <!--
                S·ª≠ d·ª•ng th:each ƒë·ªÉ loop qua List skills
                th:field="*{skills}" - Spring t·ª± ƒë·ªông bind v√†o List
            -->
            <div class="checkbox-item" th:each="skill : ${skills}">
              <input
                      type="checkbox"
                      th:id="${'skill_' + skill}"
                      th:field="*{skills}"
                      th:value="${skill}"
              >
              <label th:for="${'skill_' + skill}" th:text="${skill}">Skill</label>
            </div>
          </div>
          <div class="helper-text">Ch·ªçn √≠t nh·∫•t 1 k·ªπ nƒÉng</div>
        </div>

        <!-- Buttons -->
        <div class="button-group">
          <button type="submit">
            ‚úÖ Th√™m Nh√¢n Vi√™n
          </button>
          <a th:href="@{/employees}" class="btn btn-secondary">
            ‚ùå H·ªßy
          </a>
        </div>
      </form>
    </div>
  </div>
</body>
</html>

