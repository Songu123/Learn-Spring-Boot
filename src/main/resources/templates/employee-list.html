<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/_layout}">
<head>
  <title>Danh sÃ¡ch nhÃ¢n viÃªn</title>

  <!-- Page-specific styles -->
  <th:block layout:fragment="styles">
    <style>
      .page-container {
          background: white;
          padding: 40px;
          border-radius: 20px;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .page-header {
          color: #667eea;
          text-align: center;
          margin-bottom: 30px;
          font-size: 2.5em;
          font-weight: 700;
      }

      .stats-bar {
          display: flex;
          justify-content: space-around;
          background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
          padding: 20px;
          border-radius: 15px;
          margin-bottom: 30px;
          flex-wrap: wrap;
          gap: 15px;
      }

      .stat-item {
          text-align: center;
      }

      .stat-label {
          color: #666;
          font-size: 0.9em;
          margin-bottom: 5px;
      }

      .stat-value {
          color: #667eea;
          font-size: 1.8em;
          font-weight: 700;
      }

      .employee-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 20px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .employee-table thead {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
      }

      .employee-table th {
          padding: 15px;
          text-align: left;
          font-weight: 600;
          font-size: 1.1em;
      }

      .employee-table td {
          padding: 12px 15px;
          border-bottom: 1px solid #e0e0e0;
      }

      .employee-table tbody tr {
          transition: all 0.3s;
          background: white;
      }

      .employee-table tbody tr:hover {
          background: #f8f9fa;
          transform: scale(1.01);
      }

      /* TÃ´ Ä‘á» dÃ²ng cÃ³ lÆ°Æ¡ng > 1000$ */
      .employee-table tbody tr.high-salary {
          background: #f8d7da !important;
          color: #721c24;
          font-weight: 600;
      }

      .employee-table tbody tr.high-salary:hover {
          background: #f5c6cb !important;
      }

      /* Badge cho xáº¿p loáº¡i */
      .rank-badge {
          display: inline-block;
          padding: 5px 15px;
          border-radius: 20px;
          font-weight: 600;
          font-size: 0.9em;
      }

      .rank-badge.good {
          background: #d4edda;
          color: #155724;
      }

      .rank-badge.fair {
          background: #fff3cd;
          color: #856404;
      }

      .empty-message {
          text-align: center;
          padding: 40px;
          color: #666;
          font-size: 1.2em;
      }

      .empty-message-icon {
          font-size: 3em;
          margin-bottom: 10px;
      }
    </style>
  </th:block>
</head>
<body>
  <!-- Main content fragment -->
  <div layout:fragment="content">
    <div class="page-container">
      <h1 class="page-header">ğŸ“‹ Danh sÃ¡ch NhÃ¢n viÃªn</h1>

      <!-- Thá»‘ng kÃª tá»•ng quan -->
      <div class="stats-bar" th:if="${not #lists.isEmpty(employees)}">
        <div class="stat-item">
          <div class="stat-label">ğŸ‘¥ Tá»•ng sá»‘ nhÃ¢n viÃªn</div>
          <div class="stat-value" th:text="${totalEmployees}">0</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">ğŸ’° Tá»•ng lÆ°Æ¡ng</div>
          <div class="stat-value" th:text="${#numbers.formatDecimal(totalSalary, 0, 'COMMA', 0, 'POINT')} + ' $'">0</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">ğŸ“Š LÆ°Æ¡ng trung bÃ¬nh</div>
          <div class="stat-value" th:text="${#numbers.formatDecimal(averageSalary, 0, 'COMMA', 2, 'POINT')} + ' $'">0</div>
        </div>
      </div>

      <!-- Kiá»ƒm tra danh sÃ¡ch rá»—ng -->
      <div class="empty-message" th:if="${#lists.isEmpty(employees)}">
        <div class="empty-message-icon">ğŸ“­</div>
        <p>KhÃ´ng cÃ³ nhÃ¢n viÃªn nÃ o trong há»‡ thá»‘ng.</p>
        <p><a th:href="@{/employees/add}">ThÃªm nhÃ¢n viÃªn má»›i</a></p>
      </div>

      <!-- Báº£ng danh sÃ¡ch nhÃ¢n viÃªn -->
      <table class="employee-table" th:unless="${#lists.isEmpty(employees)}">
        <thead>
          <tr>
            <th>ğŸ†” ID</th>
            <th>ğŸ‘¤ Há» vÃ  tÃªn</th>
            <th>ğŸ’° LÆ°Æ¡ng ($)</th>
            <th>ğŸ† Xáº¿p loáº¡i</th>
          </tr>
        </thead>
        <tbody>
          <!-- Sá»­ dá»¥ng th:each Ä‘á»ƒ duyá»‡t danh sÃ¡ch -->
          <!-- Sá»­ dá»¥ng th:classappend vá»›i th:if Ä‘á»ƒ tÃ´ Ä‘á» dÃ²ng cÃ³ lÆ°Æ¡ng > 1000$ -->
          <tr th:each="emp : ${employees}"
              th:classappend="${emp.salary > 1000} ? 'high-salary' : ''">
            <td th:text="${emp.id}">1</td>
            <td th:text="${emp.name}">Nguyá»…n VÄƒn A</td>
            <td th:text="${#numbers.formatDecimal(emp.salary, 0, 'COMMA', 2, 'POINT')}">1000.00</td>
            <td>
              <!-- Sá»­ dá»¥ng th:if vÃ  th:unless (thay tháº¿ cho c:choose) Ä‘á»ƒ hiá»ƒn thá»‹ xáº¿p loáº¡i -->
              <span class="rank-badge good" th:if="${emp.salary > 1000}">âœ¨ Giá»i</span>
              <span class="rank-badge fair" th:unless="${emp.salary > 1000}">ğŸ‘ KhÃ¡</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
